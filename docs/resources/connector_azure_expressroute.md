---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "alkira_connector_azure_expressroute Resource - terraform-provider-alkira"
subcategory: ""
description: |-
  Manage Azure ExpressRoute Connector. (BETA)
---

# alkira_connector_azure_expressroute (Resource)

Manage Azure ExpressRoute Connector. (**BETA**)

## Example Usage

```terraform
resource "alkira_connector_azure_expressroute" "example" {
  name            = "example"
  size            = "LARGE"
  enabled         = true
  vhub_prefix     = "10.129.0.0/23"
  cxp             = "USWEST-AZURE-1"
  tunnel_protocol = "VXLAN_GPE"
  group           = alkira_group.example.name

  # You can add more instances blocks.
  instances {
    name                    = "InstanceName"
    expressroute_circuit_id = "/subscriptions/<Id>/resourceGroups/<GroupName>/providers/Microsoft.Network/expressRouteCircuits/<CircuitName>"
    redundant_router        = false
    loopback_subnet         = "192.168.18.0/26"
    credential_id           = alkira_credential_azure_vnet.example.id
  }

  segment_options {
    segment_name             = alkira_segment.example.name
    customer_asn             = "65514"
    disable_internet_exit    = false
    advertise_on_prem_routes = false
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cxp` (String) The CXP where the connector should be provisioned.
- `instances` (Block List, Min: 1) (see [below for nested schema](#nestedblock--instances))
- `name` (String) The name of the connector.
- `segment_options` (Block List, Min: 1) (see [below for nested schema](#nestedblock--segment_options))
- `size` (String) The size of the connector, one of `LARGE`, `2LARGE`, `5LARGE`, `10LARGE`.
- `vhub_prefix` (String) IP address prefix for VWAN Hub. This should be a `/23` prefix.

### Optional

- `billing_tag_ids` (Set of Number) IDs of Billing Tags.
- `enabled` (Boolean) Is the connector enabled. Default is `true`.
- `group` (String) The group of the connector.
- `tunnel_protocol` (String) The tunnel protocol. One of `VXLAN`, `VXLAN_GPE`. Default is `VXLAN_GPE`

### Read-Only

- `id` (String) The ID of this resource.
- `provision_state` (String) The provision state of the connector.

<a id="nestedblock--instances"></a>
### Nested Schema for `instances`

Required:

- `credential_id` (String) An opaque identifier generated when storing Azure VNET credentials.
- `expressroute_circuit_id` (String) ExpressRoute circuit ID from Azure. ExpresRoute Circuit should have a private peering connection provisioned, also an valid authorization key associated with it.
- `loopback_subnet` (String) A `/26` subnet from which loopback IPs would be used to establish underlay VXLAN GPE tunnels.
- `name` (String) User provided connector instance name.

Optional:

- `gateway_mac_address` (List of String) An array containing the mac addresses of VXLAN gateways reachable through ExpressRoute circuit. The field is only expected if VXLAN tunnel protocol is selected, and 2 gateway MAC addresses are expected only if `redundant_router` is enabled.
- `redundant_router` (Boolean) Indicates if ExpressRoute Circuit terminates on redundant routers on customer side.
- `virtual_network_interface` (List of Number) This is an optional field if the `tunnel_protocol` is `VXLAN`. If not specified Alkira allocates unique VNI from the range `[16773023, 16777215]`.

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--segment_options"></a>
### Nested Schema for `segment_options`

Required:

- `customer_asn` (Number) ASN on the customer premise side.
- `segment_name` (String) The name of an existing segment.

Optional:

- `advertise_on_prem_routes` (Boolean) Allow routes from the branch/premises to be advertised to the cloud.
- `disable_internet_exit` (Boolean) Enable or disable access to the internet when traffic arrives via this connector.

Read-Only:

- `segment_id` (Number) The ID of the segment.
