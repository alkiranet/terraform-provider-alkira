---
page_title: "alkira_service_infoblox Resource - terraform-provider-alkira"
subcategory: ""
description: |-
  Provide Infoblox service resource (BETA).
---

# alkira_service_infoblox (Resource)

Provide Infoblox service resource (**BETA**).


## ANYCAST

Based on this AnyCast policy some implicit `alkira_policy_routes` and
`alkira_policy_prefix_list` get generated. These route policies and
prefix lists will have the prefix `ALK-SYSTEM-GENERATED-INFOBLOX`.

These route policies and prefix lists cannot be deleted or modified
directly their lifecycle is bound by the Infoblox services that are
configured on the network.

AnyCast may be enabled/disabled at the instance level as well. For
AnyCast to be enabled for an instance it MUST be enabled both at the
service and the instance level. If AnyCast is NOT enabled at the
service level it will stay disabled for all instances.


## Grid Master

Grid master needs to exist before other instances of a grid can be
added. The grid master can either be provisioned by Alkira or could
already be provisioned externally. Some of these properties only need
to be provided when the grid master is external.

If the grid master needs to be provisioned internally by Alkira then
an instance needs to be added to Infoblox service configuration with
type `MASTER`.


## Instances

There can only be one `MASTER` instance ever provisioned. When the
grid master is provisioned by Alkira, provisioning needs to happen in
two steps. First, the Infoblox service must be provisioned with only 1
instance of type `MASTER`. Subsequently other instances of the grid
may be added to the instances list and provisioned. When the grid
master is external (i.e not provisioned by Alkira) then no instances
of type `MASTER` should be configured.


## Example Usage

The example uses resource `alkira_segment` and
`alkira_list_global_cidr`.

```terraform
resource "alkira_service_infoblox" "test" {
  name                = "alkiraServiceInfoblox5"
  cxp                 = "US-WEST-1"
  global_cidr_list_id = alkira_list_global_cidr.testcidr.id
  segment_ids         = [alkira_segment.test1.id]
  service_group_name  = "serviceGroupName"

  grid_master {
    # existing = false means create a new grid master.
    existing      = false
    name          = "newGridName2"
    username      = "admin"
    password      = "Abcd12345"
    shared_secret = "thisisanewsecredetshhhhh"
  }

  # Only one instance is allowed when creating a new grid master.
  instance {
    anycast_enabled = true
    hostname        = "hostname.localdomain"
    model           = "TE-V1425"
    password        = "Abcd12345"
    type            = "MASTER"
    version         = "8.5.2"
  }

  anycast {
    enabled = false
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `anycast` (Block Set, Min: 1) Defines the AnyCast policy. (see [below for nested schema](#nestedblock--anycast))
- `cxp` (String) The CXP where the service should be provisioned.
- `global_cidr_list_id` (Number) The ID of the global cidr list to be associated with the Infoblox service.
- `grid_master` (Block List, Min: 1) Defines the properties of the Infoblox grid master. (see [below for nested schema](#nestedblock--grid_master))
- `name` (String) Name of the Infoblox service.
- `segment_ids` (List of String) IDs of segments associated with the service.
- `service_group_name` (String) The name of the service group to be associated with the service. A service group represents the service in traffic policies, route policies and when configuring segment resource shares.

### Optional

- `billing_tag_ids` (List of Number) Billing tag IDs to associate with the service.
- `description` (String) The description of the Infoblox service.
- `instance` (Block List) The properties pertaining to each individual instance of the Infoblox service. (see [below for nested schema](#nestedblock--instance))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--anycast"></a>
### Nested Schema for `anycast`

Optional:

- `enabled` (Boolean) Defines if AnyCast should be enabled. Default value is `false`.
- `ips` (List of String) The IPs to be used when AnyCast is enabled. When AnyCast is enabled this list cannot be empty. The IPs used for AnyCast MUST NOT overlap the CIDR of `alkira_segment` resource associated with the service.


<a id="nestedblock--grid_master"></a>
### Nested Schema for `grid_master`

Required:

- `name` (String) Name of the grid master.
- `password` (String) The Grid Master password.
- `shared_secret` (String) Shared Secret of the InfoBlox grid. This cannot be empty.
- `username` (String) The Grid Master username.

Optional:

- `existing` (Boolean) External indicates if a new grid master should be created or if an existing grid master should be used. Default value is `false`.
- `ip` (String) The IP address of the existing grid master.

Read-Only:

- `grid_master_credential_id` (String) The credential ID of the Grid Master.
- `shared_secret_credential_id` (String) The credential ID of the shared secret.


<a id="nestedblock--instance"></a>
### Nested Schema for `instance`

Required:

- `hostname` (String) The host name of the instance. The host name MUST always have a suffix `.localdomain`.
- `model` (String) The model of the Infoblox instance.
- `password` (String) The password associated with the infoblox instance.
- `type` (String) The type of the Infoblox instance that is to be provisioned. The value could be `MASTER`, `MASTER_CANDIDATE` and `MEMBER`.
- `version` (String) The version of the Infoblox instance to be used.

Optional:

- `anycast_enabled` (Boolean) This knob controls whether AnyCast is to be enabled for this instance or not. AnyCast can only be enabled on an instance if it is also enabled on the service. The default value is `false`.

Read-Only:

- `credential_id` (String) The credential ID of the Infoblox instance.
- `id` (Number) The ID of the Infoblox instance.

## Import

Import is supported using the following syntax:

```shell
terraform import alkira_service_infoblox.example SERVICE_ID
```
