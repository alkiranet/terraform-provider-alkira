---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "alkira_service_pan Resource - terraform-provider-alkira"
subcategory: ""
description: |-
  Manage Palo Alto Firewall service.
  When panorama_enabled is set to true, pan_username and pan_password are required.
---

# alkira_service_pan (Resource)

Manage Palo Alto Firewall service.

When `panorama_enabled` is set to `true`, `pan_username` and `pan_password` are required.

## Example Usage

```terraform
resource "alkira_service_pan" "test1" {
  name                   = "PanFwTest"
  bundle                 = "PAN_VM_300_BUNDLE_2"
  cxp                    = "US-WEST"
  global_protect_enabled = false
  license_type           = "PAY_AS_YOU_GO"
  max_instance_count     = 1
  segment_ids            = [alkira_segment.test1.id]
  management_segment_id  = alkira_segment.test1.id
  size                   = "SMALL"
  type                   = "VM-300"
  version                = "9.1.3"

  panorama_enabled      = true
  panorama_device_group = "alkira-test"
  panorama_ip_addresses = ["172.16.0.8"]
  panorama_template     = "test"

  #
  # When panorama is enabled, username and password are required.
  #
  pan_password           = "Ak12345678"
  pan_username           = "admin"

  registration_pin_id     = "1234567890ABCDEF"
  registration_pin_value  = "1234567890ABCDEF"
  registration_pin_expiry = "2023-07-30"

  master_key_enabled = true
  master_key         = "1234567890ABCDEF"
  master_key_expiry  = "2023-08-01"

  global_protect_segment_options {
    segment_id            = (alkira_segment.test1.id)
    remote_user_zone_name = "RandomZoneName"
    portal_fqdn_prefix    = "randomprefix"
    service_group_name    = "RandomServiceGroupName"
  }

  # You can add more instance blocks. Make sure to change "max_instance_count".
  instance {
    name      = "tf-pan-instance-1"
    auth_key  = "tenant-pan-auth-code"
    auth_code = "tenant-pan-auth-code"
    global_protect_segment_options {
      segment_id      = (alkira_segment.test1.id)
      portal_enabled  = true
      gateway_enabled = true
      prefix_list_id  = alkira_policy_prefix_list.tf_prefix_list.id
    }
  }

  segment_options {
    segment_id = alkira_segment.segment.id
    zone_name  = "DEFAULT"
    groups     = [alkira_group.group.name, alkira_group.group1.name]
  }

  segment_options {
    segment_id = alkira_segment.segment1.id
    zone_name  = "zonename1"
    groups     = [alkira_group.group2.name]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cxp` (String) The CXP where the service should be provisioned.
- `instance` (Block List, Min: 1) (see [below for nested schema](#nestedblock--instance))
- `license_type` (String) PAN license type, either `BRING_YOUR_OWN` or `PAY_AS_YOU_GO`.
- `management_segment_id` (Number) Management Segment ID.
- `max_instance_count` (Number) Max number of Panorama instances for auto scale.
- `name` (String) Name of the PAN service.
- `pan_password` (String) PAN Panorama password.
- `pan_username` (String) PAN Panorama username. For AWS, username should be `admin`. For AZURE, it should be `akadmin`.
- `registration_pin_expiry` (String) PAN Registration PIN Expiry. The date should be in format of `YYYY-MM-DD`, e.g. `2000-01-01`.
- `registration_pin_id` (String) PAN Registration PIN ID.
- `registration_pin_value` (String) PAN Registration PIN Value.
- `segment_ids` (Set of Number) IDs of segments associated with the service.
- `size` (String) The size of the service, one of `SMALL`, `MEDIUM`, `LARGE`, `2LARGE`, `4LARGE`, `5LARGE`, `10LARGE`, `20LARGE`.
- `version` (String) The version of the PAN firewall. Please check Alkira Portal for all supported versions.

### Optional

- `billing_tag_ids` (Set of Number) IDs of billing tags to be associated with the service.
- `bundle` (String) The software image bundle that would be used forPAN instance deployment. This is applicable for licenseType`PAY_AS_YOU_GO` only. If not provided, the default`PAN_VM_300_BUNDLE_2` would be used. However `PAN_VM_300_BUNDLE_2`is legacy bundle and is not supported on AWS. It is recommendedto use `VM_SERIES_BUNDLE_1` and `VM_SERIES_BUNDLE_2` (supports Global Protect).
- `global_protect_enabled` (Boolean) Enable global protect option or not. Default is `false`
- `global_protect_segment_options` (Block Set) Segment options for segments that are already associated with the service. Options should apply. If `global_protect_enabled` is set to false, `global_protect_segment_options` shound not be included in your request. (see [below for nested schema](#nestedblock--global_protect_segment_options))
- `license_sub_type` (String) PAN sub license type, either `CREDIT_BASED` or `MODEL_BASED`. (BETA)
- `master_key` (String) Master Key for PAN instances.
- `master_key_enabled` (Boolean) Enable Master Key for PAN instances or not. It's default to `false`.
- `master_key_expiry` (String) PAN Master Key Expiry. The date should be in format of `YYYY-MM-DD`, e.g. `2000-01-01`.
- `min_instance_count` (Number) Minimal number of Panorama instances for auto scale. Default value is `0`.
- `pan_license_key` (String) PAN Panorama license Key.
- `panorama_device_group` (String) Panorama device group.
- `panorama_enabled` (Boolean) Enable Panorama or not. Default value is `false`.
- `panorama_ip_addresses` (List of String) Panorama IP addresses.
- `panorama_template` (String) Panorama Template.
- `segment_options` (Block Set) The segment options as used by your PAN firewall. (see [below for nested schema](#nestedblock--segment_options))
- `tunnel_protocol` (String) Tunnel Protocol, default to `IPSEC`, could be either `IPSEC` or `GRE`.
- `type` (String) The type of the PAN firewall. Either 'VM-300', 'VM-500' or 'VM-700'

### Read-Only

- `credential_id` (String) ID of PAN credential.
- `id` (String) The ID of this resource.
- `provision_state` (String) The provision state of the service.

<a id="nestedblock--instance"></a>
### Nested Schema for `instance`

Optional:

- `auth_code` (String) PAN instance auth code. Only required when `license_type` is `BRING_YOUR_OWN`.
- `auth_key` (String) PAN instance auth key. This is only required when `panorama_enabled` is set to `true`.
- `global_protect_segment_options` (Block Set) These options should be set only when global protect is enabled on service. These are set per segment. It is expected that on a segment where global protect is enabled at least 1 instance should be set with portal_enabled and at least one with gateway_enabled. It can be on the same instance or a different instance under the segment. (see [below for nested schema](#nestedblock--instance--global_protect_segment_options))
- `name` (String) The name of the PAN instance.

Read-Only:

- `credential_id` (String) ID of PAN instance credential.
- `id` (Number) The ID of the PAN instance.

<a id="nestedblock--instance--global_protect_segment_options"></a>
### Nested Schema for `instance.global_protect_segment_options`

Required:

- `gateway_enabled` (Boolean) indicates if the Global Protect Gateway is enabled on this PAN instance
- `portal_enabled` (Boolean) indicates if the GlobalProtect Portal is enabled on this PAN instance
- `prefix_list_id` (Number) Prefix List with Client IP Pool.
- `segment_id` (String) The segment ID for Global Protect options.



<a id="nestedblock--global_protect_segment_options"></a>
### Nested Schema for `global_protect_segment_options`

Required:

- `portal_fqdn_prefix` (String) Prefix for the global protect portal FQDN, this would be prepended to customer specific alkira domain For Example: if prefix is abc and tenant name is example then the FQDN would be abc.example.gpportal.alkira.com
- `remote_user_zone_name` (String) Firewall security zone is created using the zone name for remote user sessions.
- `segment_id` (String) The name of the segment to which the global protect options should apply
- `service_group_name` (String) The name of the service group. A group with the same name will be created.


<a id="nestedblock--segment_options"></a>
### Nested Schema for `segment_options`

Required:

- `groups` (List of String) The list of groups associated with the zone.
- `segment_id` (String) The ID of the segment.
- `zone_name` (String) The name of the associated firewall zone.
