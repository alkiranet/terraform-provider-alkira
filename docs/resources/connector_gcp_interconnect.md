---
page_title: "alkira_connector_gcp_interconnect Resource - terraform-provider-alkira"
subcategory: ""
description: |-
  Manage GCP Interconnect.
---

# alkira_connector_gcp_interconnect (Resource)

Manage GCP Interconnect.

## Example Usage

This is one simple minimal example to create a GCP connector.

```terraform
resource "alkira_connector_gcp_interconnect" "example_gcp_interconnect" {
  name              = "example_gcp_interconnect"
  size              = "SMALL"
  description       = "example connector"
  cxp               = "US-WEST"
  group             = alkira_group.group1.name
  tunnel_protocol   = "IPSEC"
  loopback_prefixes = ["10.30.0.0/24"]
  instances {
    name                     = "instance1"
    edge_availability_domain = "AVAILABILITY_DOMAIN_1"
    customer_asn             = 56009
    bgp_auth_key             = "key"
  }
  segment_options {
    segment_id               = alkira_segment.segment1.id
    instance_name            = "instance1"
    advertise_on_prem_routes = true
    disable_internet_exit    = false
    customer_gateways {
      loopback_ip  = "192.192.192.192"
      tunnel_count = 2
    }
  }
}
```

You can add multiple `instances` to the same connector.

```terraform
resource "alkira_connector_gcp_interconnect" "example_gcp_interconnect_1" {
  name              = "example_gcp_interconnect_1"
  size              = "LARGE"
  description       = "example connector with multiple instances"
  cxp               = "US-WEST"
  group             = alkira_group.group1.name
  tunnel_protocol   = "IPSEC"
  loopback_prefixes = ["10.40.0.0/24"]
  instances {
    name                     = "instance1"
    edge_availability_domain = "AVAILABILITY_DOMAIN_1"
    customer_asn             = 56009
    bgp_auth_key             = "key"
  }

  instances {
    name                     = "instance2"
    edge_availability_domain = "AVAILABILITY_DOMAIN_1"
    customer_asn             = 56010
    bgp_auth_key             = "key_2"
  }
  segment_options {
    segment_id               = alkira_segment.segment1.id
    instance_name            = "instance1"
    advertise_on_prem_routes = true
    disable_internet_exit    = false
    customer_gateways {
      loopback_ip  = "192.192.192.192"
      tunnel_count = 2
    }
    customer_gateways {
      loopback_ip  = "192.192.192.193"
      tunnel_count = 1
    }
  }
}
```

You can also configure multiple `segments_options` for an instance.
```terraform
resource "alkira_connector_gcp_interconnect" "example_gcp_interconnect_2" {
  name              = "example_gcp_interconnect_1"
  size              = "LARGE"
  description       = "example connector with multiple segment options"
  cxp               = "US-WEST"
  group             = alkira_group.group1.name
  tunnel_protocol   = "IPSEC"
  loopback_prefixes = ["10.40.0.0/24"]
  instances {
    name                     = "instance1"
    edge_availability_domain = "AVAILABILITY_DOMAIN_1"
    customer_asn             = 56009
    bgp_auth_key             = "key"
  }

  segment_options {
    segment_id               = alkira_segment.segment1.id
    instance_name            = "instance1"
    advertise_on_prem_routes = true
    disable_internet_exit    = false
    customer_gateways {
      loopback_ip  = "192.192.192.192"
      tunnel_count = 2
    }
    customer_gateways {
      loopback_ip  = "192.192.192.193"
      tunnel_count = 1
    }
  }
  segment_options {
    segment_id               = alkira_segment.segment2.id
    instance_name            = "instance1"
    advertise_on_prem_routes = true
    disable_internet_exit    = false
    customer_gateways {
      loopback_ip  = "192.192.192.192"
      tunnel_count = 2
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cxp` (String) The CXP where the connector should be provisioned.
- `instances` (Block List, Min: 1) A list of instances of the Interconnect (see [below for nested schema](#nestedblock--instances))
- `loopback_prefixes` (Set of String) A list of prefixes that should be associated with the connector. Eg :["10.30.0.0/24"]
- `name` (String) The name of the connector.
- `segment_options` (Block List, Min: 1) Options for each segment associated with the instance. (see [below for nested schema](#nestedblock--segment_options))
- `size` (String) The size of the connector, one of `SMALL`, `MEDIUM`, `LARGE`, `2LARGE`, `5LARGE` or `10LARGE`.
- `tunnel_protocol` (String) The tunnel protocol used by the connector.Can be one of `GRE`, `IPSEC`, `VXLAN`, `VXLAN_GPE`.

### Optional

- `billing_tag_ids` (Set of Number) Billing tags to be associated with the resource. (see resource `alkira_billing_tag`).
- `description` (String) The description of the connector.
- `enabled` (Boolean) Is the connector enabled. Default is `true`.
- `group` (String) The group of the connector.
- `scale_group_id` (String) The ID of the scale group associated with the connector.

### Read-Only

- `id` (String) The ID of this resource.
- `implicit_group_id` (Number) The ID of the implicit group associated with the connector.

<a id="nestedblock--instances"></a>
### Nested Schema for `instances`

Required:

- `customer_asn` (Number) The customer ASN.
- `edge_availability_domain` (String) The Availability Domain of the instance.Can be one of `AVAILABILITY_DOMAIN_1`, `AVAILABILITY_DOMAIN_2`.
- `name` (String) The name of the instance.

Optional:

- `bgp_auth_key` (String) The BGP MD5 authentication key to authenticate Alkira CXP.
- `gateway_mac_address` (String) The MAC address of the gateway.It's required if the `tunnel_protocol` is `VXLAN`.
- `vni_id` (Number) The VXLAN Network Identifier.It's required if the `tunnel_protocol` is `VXLAN`.

Read-Only:

- `id` (Number) The ID of the instance.


<a id="nestedblock--segment_options"></a>
### Nested Schema for `segment_options`

Required:

- `customer_gateways` (Block List, Min: 1) The customer gateway associated with the segment. (see [below for nested schema](#nestedblock--segment_options--customer_gateways))
- `instance_name` (String) The name of the instance.
- `segment_id` (String) The ID of the segment.

Optional:

- `advertise_on_prem_routes` (Boolean) Advertise on-prem routes. Default is `false`.
- `disable_internet_exit` (Boolean) Disable access to the internet. Default is `false`.

<a id="nestedblock--segment_options--customer_gateways"></a>
### Nested Schema for `segment_options.customer_gateways`

Required:

- `tunnel_count` (Number) Number of tunnels per customer gateway.

Optional:

- `loopback_ip` (String) The customer gateway IP address which is set as tunnel source.

