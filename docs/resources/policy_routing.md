---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "alkira_policy_routing Resource - terraform-provider-alkira"
subcategory: ""
description: |-
  Manage Routing Policy.
  Configure a routing policy between the Alkira CSX and a selected scope with custom rules
---

# alkira_policy_routing (Resource)

Manage Routing Policy.

Configure a routing policy between the Alkira CSX and a selected scope with custom rules

## Example Usage

```terraform
#
# Assume segment1 and group1 has been created
#
resource "alkira_policy_routing" "test" {
  name                = "minimal"
  description         = "minimal routing policy"
  enabled             = "false"
  direction           = "INBOUND"
  included_group_ids  = [alkira_group.group1.id]
  segment_id          = alkira_segment.seg1.id

  rule {
    name                       = "test"
    action                     = "ALLOW"
    match_all                  = true
    routes_redistribution_type = "ALL"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `direction` (String) The direction of the route, `INBOUND` or `OUTBOUND`.
- `included_group_ids` (List of Number) Defines the scope for the policy. Connector associated with group IDs metioned here is where this policy would be applied. Group IDs that associated with branch/on-premise connectors can be used here. These group should not contain any cloud connector.
- `name` (String) The name of the routing policy.
- `segment_id` (String) IDs of segments that will define the policy scope.

### Optional

- `advertise_custom_routes_prefix_id` (Number) Prefix list ID to send aggregates out towards on-prem connectors.
- `advertise_internet_exit` (Boolean) Advertise Alkiraâ€™s Internet Connector to selected scope. This only applies to `OUTBOUND` policy. Default value is `true`.
- `advertise_on_prem_routes` (Boolean) Advertise routes from other on premise connectors to selected scope. Default value is `false`.
- `description` (String) The description of the routing policy.
- `enabled` (Boolean) Whether the routing policy is enabled. By default, it is set to `false`.
- `excluded_group_ids` (List of Number) Excludes given associated connector from `included_groups`. Implicit group ID of a branch/on-premise connector for which a user defined group is used in `included_groups` can be used here.
- `rule` (Block Set) (see [below for nested schema](#nestedblock--rule))

### Read-Only

- `id` (String) The ID of this resource.
- `provision_state` (String) The provision state of the resource.

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Required:

- `action` (String) Action to be set on matched routes. Value could be `ALLOW`, `DENY` and `ALLOW_W_SET`.
- `name` (String) The name of the rule.

Optional:

- `match_all` (Boolean) This acts as match all if enabledand should be used as exlusive match option.
- `match_as_path_list_ids` (List of Number) IDs of a AS Path Lists.
- `match_community_list_ids` (List of Number) IDs of Community Lists.
- `match_cxps` (List of String) List of CXPs.
- `match_extended_community_list_ids` (List of Number) IDs of Extended Community Lists.
- `match_group_ids` (List of Number) IDs of groups.
- `match_prefix_list_ids` (List of Number) IDs of Prefix Lists.
- `routes_distribution_as_secondary` (Boolean) This allows to redistribute routes with lower preference to the restrictedCxps. Hence, this option can only be used with `RESTRICTED_CXPS` distribution_type. Also only 1 CXP is allowed in restricted_cxps, when this is set to `true`.
- `routes_distribution_restricted_cxps` (List of String) List of cxps to which routes distribution is restricted. Should be used only with distributionType `RESTRICTED_CXPS`.
- `routes_distribution_type` (String) Redistribute routes that match with this rule match codition to. The value could be `ALL`, `LOCAL_ONLY` and `RESTRICTED_CXPS`.
- `set_as_path_prepend` (String) Allows to prepend one or more AS numbers to the current AS PATH. Each AS number can be a value from 0 through 65535. Example - 100 100 100.
- `set_community` (String) Allows to add one or more community attributes to the existing communities on the route. Community attribute is specified in this format: `as-number:community-value`. as-number and community-value can be a value from `0` through `65535`. Example: `65512:20 65512:21`.
- `set_extended_community` (String) Allows to add one or more extended community attributes to the existing extended communities on the route. Extended community attribute is specified in this format: `type:administrator:assigned-number`. Currently only type origin(soo) is supported.

Read-Only:

- `sequence_no` (Number) System assigned number for each rule starting with `1000`. It defines the order of the rules.


